{% extends 'base.html' %}
{% block content %}
<div class="max-w-md mx-auto bg-gray-900 border border-gray-800 rounded p-6">
  <h1 class="text-xl font-semibold mb-2">Mon profil</h1>
  <p class="text-sm text-gray-400 mb-4">Connecté en tant que <span class="font-mono text-gray-200">{{ current_user.username }}</span></p>
  <form method="post" class="space-y-3">
    <div>
      <label class="block text-sm mb-1">Nouveau mot de passe</label>
      <input class="w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-white" type="password" name="password" placeholder="••••••" required>
    </div>
    <button type="submit" class="px-3 py-2 rounded bg-blue-600 text-white">Mettre à jour</button>
  </form>
  {% if current_user.is_authenticated and current_user.is_admin %}
  <div class="mt-6 rounded border border-gray-700 p-4">
    <h2 class="text-lg font-semibold mb-2">Administration</h2>
    <a class="px-3 py-2 rounded border border-blue-600 text-blue-400 hover:bg-blue-600/20" href="{{ url_for('admin_users') }}">Gérer les utilisateurs</a>
  </div>
  {% endif %}
</div>
{% endblock %}
